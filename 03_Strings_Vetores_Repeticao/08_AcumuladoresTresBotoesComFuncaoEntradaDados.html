<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operações com Vetor</title>
</head>

<body>
    <h1>Operações</h1>
    <label for="entradaDeDados">Conjunto fornecido</label>
    <div id="entradaDeDados" style="background-color: aqua;">
        <br>
        <input type="text" id="dadosUsuario" placeholder="Digite os números separados por vírgula"></input>
        <input type="button" value="Verificar se os dados estão corretos e transferir para vetor"
            onclick="obterDados()">
        <br><br>
        <label for="dadosObtidos"></label>
        <span id="dadosObtidos">[]</span>
        <br>
        <br>
        
    </div>
    <br>

    <input type="button" value="Somar todos os números" onclick="somarNumeros()">
    <p id="somaResultado"></p>

    <input type="button" value="Calcular média aritmética" onclick="calcularMedia()">
    <p id="mediaResultado"></p>

    <input type="number" id="numeroParaContar" placeholder="Digite um número">
    <input type="button" value="Contar ocorrências do número" onclick="contarNumero()">
    <p id="contagemResultado"></p>

    <script>
        // Vetor que receberá os números inteiros
        let numeros = [];

        // Função para obter na GUI os dados inseridos pelo usuário
        function obterDados() {
            const dadosUsuario = document.getElementById('dadosUsuario').value;
            if (!dadosUsuario) {
                alert("Vazi0, insira alguns números separados por vírgulas.");
                return;
            }
            //pega os valores digitados pelo usuário e transforma em um vetor. O caracter que indica separação é a vírgula
            //transforma cada valor em número (pois eles são lidos como texto)
            numeros = dadosUsuario.split(',').map(Number);

            // Verificar se algum elemento não é número (isNaN() (leia assim -> it'sNotANumber) 
            for (let i = 0; i < numeros.length; i++) {
                if (isNaN(numeros[i])) {
                    alert("Por favor, insira apenas números separados por vírgula.");
                    return;
                }
            }

            //mostrar os dados obtidos em um span
            document.getElementById("dadosObtidos").innerText = numeros;

            //com novos dados, precisa "limpar" as respostas antigas
            document.getElementById('somaResultado').innerText = '';
            document.getElementById('mediaResultado').innerText = '';
            document.getElementById('contagemResultado').innerText = '';
        }

        // Função para somar todos os números do vetor
        function somarNumeros() {
            let soma = 0;
            for (let i = 0; i < numeros.length; i++) {
                soma += numeros[i];
            }
            document.getElementById('somaResultado').innerText = `A soma dos números é: ${soma}`;
        }

        // Função para calcular a média aritmética dos números do vetor
        function calcularMedia() {
            let soma = 0;
            for (let i = 0; i < numeros.length; i++) {
                soma += numeros[i];
            }
            const media = soma / numeros.length;
            document.getElementById('mediaResultado').innerText = `A média aritmética é: ${media.toFixed(2)}`;
        }

        // Função para contar quantas vezes um número específico aparece no vetor
        function contarNumero() {
            const numeroParaContar = parseInt(document.getElementById('numeroParaContar').value);
            if (isNaN(numeroParaContar)) { //verifica se o número informado é válido
                alert('Insira um número válido.');
                return;
            }
            let contagem = 0;
            for (let i = 0; i < numeros.length; i++) {
                if (numeros[i] === numeroParaContar) {
                    contagem++;
                }
            }
            document.getElementById('contagemResultado').innerText = "O número " + numeroParaContar 
            + " aparece " + contagem + " vezes no vetor.";
        }
    </script>
</body>

</html>